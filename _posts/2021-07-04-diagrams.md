---
layout: post
title: Academic diagrams
date: 2021-12-16 17:29:00
description: How to use TikZ to make pretty diagrams
---

This short blog is meant to provide some reference for making diagrams in `LaTeX` using [TikZ&PGF](https://www.bu.edu/math/files/2013/08/tikzpgfmanual.pdf){:target="\_blank"} package. While the manual is quite in-depth and provides rather friendly introduction I decided to provide my own notes to give an introduction to the impatient. 

Below, I show a few examples of such diagrams I have used in my thesis [Thesis 2018](https://repositories.lib.utexas.edu/handle/2152/68628){:target="\_blank"}

## Casimir Invariants

The details don't matter very much in this post, but this object comes from noncanonical Hamiltonian formalism. The idea is to show how the phase-space is *foliated* by such *Casimir* leaves, which are functionals that constrain trajectories of the system. I wanted a blob describing the space I am in, $$Z$$, as well as the pictures of the leaves and the trajectory.

This is an example post with image galleries.

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% responsive_image path: assets/img/diagram-f1.png class: "img-fluid rounded z-depth-1" %}
    </div>
    <div class="col-sm mt-3 mt-md-0">
        {% responsive_image path: assets/img/diagram-f1.png class: "img-fluid rounded z-depth-1" %}
    </div>
    <div class="col-sm mt-3 mt-md-0">
        {% responsive_image path: assets/img/diagram-f1.png class: "img-fluid rounded z-depth-1" %}
    </div>
</div>
<div class="caption">
    A simple, elegant caption looks good between image rows, after each row, or doesn't have to be there at all.
</div>


The figure will be generated in the article pdf format, which is not convenient for viewing purposes, thus we will extract the diagram via a command



The diagram below was generated by the following code:

```

\documentclass{article}
\usepackage{graphics}
\usepackage{tikz}



\def\calc{\mathcal{C}}
\def\calz{\mathcal{Z}}
%--------------------------------------% 

%-- Main Document --------------------------------------------------
\pgfrealjobname{diagram} % just the 
\begin{document}
	\beginpgfgraphicnamed{diagram-f1}
		\begin{tikzpicture}[scale=1]
			\filldraw[fill=blue!20!white, draw=blue!50!black,  thick] (-1.75,0.25) .. controls (-1.5,.5) and (1.5,.5) .. (2,0).. controls (3,-1) and (2,-1) .. (2,-2) .. controls (2,-3) and (-1,-2) .. (-1,-2) .. controls (-2,-1.5) and (-3,-1) .. (-1.75,0.25);
			%\filldraw [gray] (-.5,-.25) circle (2pt)
			%(.5,-.25) circle (2pt)
			%(1,-.35) circle (2pt)
			%(1.75,-.75) circle (2pt)
			%(1.5,-1) circle (2pt)
			%(1.15,-1.5) circle (2pt)
			%(1,-1.85) circle (2pt)
			%(.5,-1.6) circle (2pt)
			%(-.5,-1.5) circle (2pt)
			%(-1.25,-1.5) circle (2pt)
			%(-1.1,-1) circle (2pt)
			%(-.75,-.5) circle (2pt);
			\foreach \x in {-.2,0,...,.4}	
			\filldraw[fill=red!20!white, draw=red!50!black,  thick] (-.5,-.25+\x) .. controls (.5,-.25+\x) and (1,-.35+\x) .. (1.75,-.75+\x).. controls (1.5,-1+\x) and (1.15,-1.5+\x) .. (1,-1.85+\x).. controls (.5,-1.6+\x) and (-.5,-1.5+\x) .. (-1.25,-1.5+\x).. controls (-1.1,-1+\x) and (-.75,-.5+\x) .. (-.5,-.25+\x);
			\draw[->, thick] (0.25,-.55) -- +(90:.5) node[midway,left,scale=.5] {$\nabla\calc$};
			\draw[ thick] (0.25,-.55) -- ++(-10:.1)-- ++(90:.1)-- ++(170:.1);
			\node at (-1.75,-.5) [] {$\calz$};
			\draw[green!50!black,  thick,->] (0-.5,1/2-1) ..
			controls (1/2-.5,1/2-1) and (1/2-.5,0-1) .. (2/2-.5,0-1) .. controls +(.555/4,0) and
			+(0,-0.555/4) .. (2.5/2-.5,.5/2-1) node[very near end,above,scale=.5] {$z(t)$};
			\draw[->, thick] (-3.5,-1.5) .. controls (-2,-1.5) and (-1,-1.5) .. (-1,-1.1) node[very near start,above,scale=.5]{$\calc = \textrm{const}$.};
		\end{tikzpicture}
	\endpgfgraphicnamed
        			
\end{document}

```

## Extracting diagram-f1.pdf

This last paragraph is for those who want to extract a small image out of the pdf. The name of the file is `diagram.tex` and it can be made to extract a file by the name diagram-f1.pdf using a script 
```bash
pdflatex --jobname=diagram-f1 diagram.tex
```
