---
layout: post
title: Academic diagrams
date: 2021-12-16 17:29:00
description: How to use TikZ to make pretty diagrams
---

This short blog is meant to provide some reference for making diagrams in `LaTeX` using [TikZ&PGF](https://www.bu.edu/math/files/2013/08/tikzpgfmanual.pdf){:target="\_blank"} package. While the manual is quite in-depth and provides rather friendly introduction I decided to provide my own notes to give an introduction to the impatient.

<div class="d-flex justify-content-center">
  <div>{% responsive_image path: assets/img/diagram-f1.png title: "example image" class: "img-fluid rounded z-depth-1" %}</div>
</div>
<div class="caption">
    This image can also have a caption. It's like magic.
</div>

Below, I show a how to make this pretty diagram I created for my thesis [Thesis 2018](https://repositories.lib.utexas.edu/handle/2152/68628){:target="\_blank"}

## Casimir Invariants

The details don't matter very much in this post, but this object comes from noncanonical Hamiltonian formalism. The idea is to show how the phase-space is *foliated* by such *Casimir* leaves, which are functionals that constrain trajectories of the system. I wanted a blob describing the space I am in, $$Z$$, as well as the pictures of the leaves and the trajectory. 

What we need first is to load the appropriate packages that will be needed prior to using the tikz environement:

```latex
\documentclass{article}
\usepackage{graphics}
\usepackage{tikz}

\def\calc{\mathcal{C}} %Defining the mathematical symbol shortcuts
\def\calz{\mathcal{Z}}
%--------------------------------------% 
```

The remainder of the commands we shall include will go instide the tikz environment

```
%-- Main Document --------------------------------------------------
\begin{document}
  \begin{tikzpicture}[scale=1] % scale allows us to change the size of the diagram
      % tikz enviornment is here  
  \end{tikzpicture}
		
\end{document}
```

This is an example post with image galleries.

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% responsive_image path: assets/img/diagram_0_0-f1.png class: "img-fluid rounded z-depth-1" %}
    </div>
    <div class="col-sm mt-3 mt-md-0">
        {% responsive_image path: assets/img/diagram_0_1-f1-1.png class: "img-fluid rounded z-depth-1" %}
    </div>
    <div class="col-sm mt-3 mt-md-0">
        {% responsive_image path: assets/img/diagram_2-f1-1.png class: "img-fluid rounded z-depth-1" %}
    </div>
</div>
<div class="caption">
    A simple, elegant caption looks good between image rows, after each row, or doesn't have to be there at all.
</div>


The figure will be generated in the article pdf format, which is not convenient for viewing purposes, thus we will extract the diagram via a command

To make the coordinate axes we see on the figure on the left do
```
     \draw[step=.5cm,gray,very thin] (-1.4,-1.4) grid (1.4,1.4);
     \draw (-1.5,0) -- (1.5,0);
     \draw (0,-1.5) -- (0,1.5);
```
They allow us to visualize how the coordinates coorspend to the geometric locations. Next we start creating a curved line

```
    \filldraw [gray] (-.5,-.25) circle (2pt)
     (.5,-.25) circle (2pt)
     (1,-.35) circle (2pt)
     (1.75,-.75) circle (2pt);
    \draw[draw=red!50!black,  thick] (-.5,-.25+\x) .. controls (.5,-.25+\x) and (1,-.35+\x) .. (1.75,-.75+\x);
```


The diagram below was generated by the following code:




## Extracting diagram-f1.pdf

This last paragraph is for those who want to extract a small image out of the pdf. The name of the file is `diagram.tex` and it can be made to extract a file by the name diagram-f1.pdf using a script 
```bash
pdflatex --jobname=diagram-f1 diagram.tex
```
